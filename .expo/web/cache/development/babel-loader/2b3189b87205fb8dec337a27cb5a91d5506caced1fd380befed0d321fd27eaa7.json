{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useInputFormat, useInputFormatter, useRangeChecker } from \"./dateUtils\";\nimport * as React from 'react';\nimport { getTranslation } from \"../translations/utils\";\nexport default function useDateInput(_ref) {\n  var locale = _ref.locale,\n    value = _ref.value,\n    validRange = _ref.validRange,\n    inputMode = _ref.inputMode,\n    onChange = _ref.onChange,\n    onValidationError = _ref.onValidationError;\n  var _useRangeChecker = useRangeChecker(validRange),\n    isDisabled = _useRangeChecker.isDisabled,\n    isWithinValidRange = _useRangeChecker.isWithinValidRange,\n    validStart = _useRangeChecker.validStart,\n    validEnd = _useRangeChecker.validEnd;\n  var _React$useState = React.useState(null),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    error = _React$useState2[0],\n    setError = _React$useState2[1];\n  var formatter = useInputFormatter({\n    locale: locale\n  });\n  var inputFormat = useInputFormat({\n    formatter: formatter,\n    locale: locale\n  });\n  var formattedValue = value ? formatter.format(value) : '';\n  var onChangeText = function onChangeText(date) {\n    var dayIndex = inputFormat.indexOf('DD');\n    var monthIndex = inputFormat.indexOf('MM');\n    var yearIndex = locale === 'pt' ? inputFormat.indexOf('AAAA') : inputFormat.indexOf('YYYY');\n    var day = Number(date.slice(dayIndex, dayIndex + 2));\n    var year = Number(date.slice(yearIndex, yearIndex + 4));\n    var month = Number(date.slice(monthIndex, monthIndex + 2));\n    if (Number.isNaN(day) || Number.isNaN(year) || Number.isNaN(month)) {\n      var inputError = getTranslation(locale, 'notAccordingToDateFormat', function () {\n        return 'notAccordingToDateFormat';\n      })(inputFormat);\n      setError(inputError);\n      onValidationError && onValidationError(inputError);\n      return;\n    }\n    var finalDate = inputMode === 'end' ? new Date(year, month - 1, day, 23, 59, 59) : new Date(year, month - 1, day);\n    if (isDisabled(finalDate)) {\n      var _inputError = getTranslation(locale, 'dateIsDisabled');\n      setError(_inputError);\n      onValidationError && onValidationError(_inputError);\n      return;\n    }\n    if (!isWithinValidRange(finalDate)) {\n      var errors = validStart && validEnd ? [\"\" + getTranslation(locale, 'mustBeBetween', function () {\n        return 'mustBeBetween';\n      })(formatter.format(validStart), formatter.format(validEnd))] : [validStart ? getTranslation(locale, 'mustBeHigherThan', function () {\n        return 'mustBeHigherThan';\n      })(formatter.format(validStart)) : '', validEnd ? getTranslation(locale, 'mustBeLowerThan', function () {\n        return 'mustBeLowerThan';\n      })(formatter.format(validEnd)) : ''];\n      var _inputError2 = errors.filter(function (n) {\n        return n;\n      }).join(' ');\n      setError(errors.filter(function (n) {\n        return n;\n      }).join(' '));\n      onValidationError && onValidationError(_inputError2);\n      return;\n    }\n    setError(null);\n    onValidationError && onValidationError(null);\n    if (inputMode === 'end') {\n      onChange(finalDate);\n    } else {\n      onChange(finalDate);\n    }\n  };\n  return {\n    onChange: onChange,\n    error: error,\n    formattedValue: formattedValue,\n    onChangeText: onChangeText,\n    inputFormat: inputFormat\n  };\n}","map":{"version":3,"names":["useInputFormat","useInputFormatter","useRangeChecker","React","getTranslation","useDateInput","_ref","locale","value","validRange","inputMode","onChange","onValidationError","_useRangeChecker","isDisabled","isWithinValidRange","validStart","validEnd","_React$useState","useState","_React$useState2","_slicedToArray","error","setError","formatter","inputFormat","formattedValue","format","onChangeText","date","dayIndex","indexOf","monthIndex","yearIndex","day","Number","slice","year","month","isNaN","inputError","finalDate","Date","errors","filter","n","join"],"sources":["C:\\Users\\jonat\\OneDrive\\Escritorio\\Segundo_Momento\\node_modules\\react-native-paper-dates\\src\\Date\\inputUtils.ts"],"sourcesContent":["import { useInputFormat, useInputFormatter, useRangeChecker } from './dateUtils'\nimport * as React from 'react'\nimport type { ValidRangeType } from './Calendar'\nimport { getTranslation } from '../translations/utils'\n\nexport default function useDateInput({\n  locale,\n  value,\n  validRange,\n  inputMode,\n  onChange,\n  onValidationError,\n}: {\n  onChange: (d: Date) => void\n  locale: undefined | string\n  value: Date | undefined\n  validRange: ValidRangeType | undefined\n  inputMode: 'start' | 'end'\n  onValidationError?: ((error: string | null) => void) | undefined\n}) {\n  const { isDisabled, isWithinValidRange, validStart, validEnd } =\n    useRangeChecker(validRange)\n  const [error, setError] = React.useState<null | string>(null)\n  const formatter = useInputFormatter({ locale })\n  const inputFormat = useInputFormat({ formatter, locale })\n  const formattedValue = value ? formatter.format(value) : ''\n  const onChangeText = (date: string) => {\n    const dayIndex = inputFormat.indexOf('DD')\n    const monthIndex = inputFormat.indexOf('MM')\n    const yearIndex =\n      locale === 'pt'\n        ? inputFormat.indexOf('AAAA')\n        : inputFormat.indexOf('YYYY')\n\n    const day = Number(date.slice(dayIndex, dayIndex + 2))\n    const year = Number(date.slice(yearIndex, yearIndex + 4))\n    const month = Number(date.slice(monthIndex, monthIndex + 2))\n\n    if (Number.isNaN(day) || Number.isNaN(year) || Number.isNaN(month)) {\n      const inputError = getTranslation(\n        locale,\n        'notAccordingToDateFormat',\n        () => 'notAccordingToDateFormat'\n      )(inputFormat)\n      setError(inputError)\n      onValidationError && onValidationError(inputError)\n      return\n    }\n\n    const finalDate =\n      inputMode === 'end'\n        ? new Date(year, month - 1, day, 23, 59, 59)\n        : new Date(year, month - 1, day)\n\n    if (isDisabled(finalDate)) {\n      const inputError = getTranslation(locale, 'dateIsDisabled')\n      setError(inputError)\n      onValidationError && onValidationError(inputError)\n      return\n    }\n    if (!isWithinValidRange(finalDate)) {\n      let errors =\n        validStart && validEnd\n          ? [\n              `${getTranslation(\n                locale,\n                'mustBeBetween',\n                () => 'mustBeBetween'\n              )(formatter.format(validStart), formatter.format(validEnd))}`,\n            ]\n          : [\n              validStart\n                ? getTranslation(\n                    locale,\n                    'mustBeHigherThan',\n                    () => 'mustBeHigherThan'\n                  )(formatter.format(validStart))\n                : '',\n              validEnd\n                ? getTranslation(\n                    locale,\n                    'mustBeLowerThan',\n                    () => 'mustBeLowerThan'\n                  )(formatter.format(validEnd))\n                : '',\n            ]\n      const inputError = errors.filter((n) => n).join(' ')\n      setError(errors.filter((n) => n).join(' '))\n      onValidationError && onValidationError(inputError)\n      return\n    }\n\n    setError(null)\n    onValidationError && onValidationError(null)\n    if (inputMode === 'end') {\n      onChange(finalDate)\n    } else {\n      onChange(finalDate)\n    }\n  }\n  return {\n    onChange,\n    error,\n    formattedValue,\n    onChangeText,\n    inputFormat,\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}